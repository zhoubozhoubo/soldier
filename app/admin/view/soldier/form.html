<form class="layui-form layui-card" action="{:request()->url()}" data-auto="true" method="post" autocomplete="off">
    <div class="layui-card-body padding-left-40">

        <div class="layui-row layui-col-space15">
            <div class="layui-col-xs2 text-center">
                <label class="block relative">
                    <span class="color-green font-w7">图片</span>
                    <span class="color-desc margin-left-5">Image</span>
                    <input type="hidden" name="content" value="{$vo.content|default=''}">
                    <script>$('[name=content]').uploadOneImage()</script>
                </label>
            </div>
            <div class="layui-col-xs3">
                <label class="block relative">
                    <span class="color-green font-w7">姓名</span>
                    <span class="color-desc margin-left-5">Name</span>
                    <input name="name" value='{$vo.name|default=""}' required pattern="^.{2,}$" placeholder="请输入名称" class="layui-input">
                </label>
            </div>
            <div class="layui-col-xs2">
                <label class="block relative">
                    <span class="color-green font-w7">年龄</span>
                    <span class="color-desc margin-left-5">Age</span>
                    <input name="age" value='{$vo.age|default=""}' required placeholder="请输入年龄" class="layui-input">
                </label>
            </div>
            <div class="layui-col-xs5">
                <label class="block relative">
                    <span class="color-green font-w7">退役时间</span>
                    <span class="color-desc margin-left-5">RetireTime</span>
                    <input name="retire_time" value='{$vo.retire_time|default=""}' required placeholder="请输入退役时间" class="layui-input">
                </label>
            </div>
        </div>
        <div class="layui-row layui-col-space15">
            <div class="layui-col-xs12">
                <label class="block relative">
                    <span class="color-green font-w7">内容</span>
                    <span class="color-desc margin-left-5">Comment</span>
                    <textarea ng-model="$vo.comment" name='comment'>{$vo['comment']|default=''|htmlspecialchars_decode}</textarea>
                </label>
            </div>
        </div>
        <div class="hr-line-dashed"></div>
        {notempty name='vo.id'}<input type='hidden' value='{$vo.id}' name='id'>{/notempty}
        <div class="layui-form-item text-center">
            <button class="layui-btn" type='submit'>保存数据</button>
            <button class="layui-btn layui-btn-danger" type='button' data-confirm="确定要取消编辑吗？" data-close>取消编辑</button>
        </div>
    </div>
</form>

{block name='script'}
<script>
    require(['angular', 'ckeditor'], function () {

        var editor;

        setTimeout(function () {
            if (editor) editor.destroy();
            editor = window.createEditor('[name="comment"]');
        }, 100);

    });
</script>
{/block}